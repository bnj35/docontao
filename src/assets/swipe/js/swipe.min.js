function Swipe(i,s){"use strict";function n(){}var r=function(t){setTimeout(t||n,0)},a={addEventListener:!!window.addEventListener,touch:"ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch,transitions:function(t){var n=["transitionProperty","WebkitTransition","MozTransition","OTransition","msTransition"];for(var e in n)if(void 0!==t.style[n[e]])return!0;return!1}(document.createElement("swipe"))};if(i){var u,d,c,l,v=i.children[0];s=s||{};var f=parseInt(s.startSlide,10)||0,h=f,m=!1,p=s.speed||300;s.continuous=void 0===s.continuous||s.continuous;var o,x={},E={},g=s.auto||0,t=null,w={},b={},L={handleEvent:function(t){switch(t.type){case"touchstart":this.start(t);break;case"touchmove":this.move(t);break;case"touchend":r(this.end(t));break;case"webkitTransitionEnd":case"msTransitionEnd":case"oTransitionEnd":case"otransitionend":case"transitionend":r(this.transitionEnd(t));break;case"resize":r(e)}s.stopPropagation&&t.stopPropagation()},start:function(t){var n=t.touches[0];w={x:n.pageX,y:n.pageY,time:+new Date},o=void 0,b={},v.addEventListener("touchmove",this,!1),v.addEventListener("touchend",this,!1)},move:function(t){if(!(1<t.touches.length||t.scale&&1!==t.scale)){s.disableScroll&&t.preventDefault();var n=t.touches[0];b={x:n.pageX-w.x,y:n.pageY-w.y},void 0===o&&(o=!!(o||Math.abs(b.x)<Math.abs(b.y))),o||(t.preventDefault(),q(),s.continuous?(I(A(f-1),b.x+d[A(f-1)],0),I(f,b.x+d[f],0),I(A(f+1),b.x+d[A(f+1)],0)):(b.x=b.x/(!f&&0<b.x||f==u.length-1&&b.x<0?Math.abs(b.x)/c+1:1),I(f-1,b.x+d[f-1],0),I(f,b.x+d[f],0),I(f+1,b.x+d[f+1],0)))}},end:function(){var t=+new Date-w.time,n=Number(t)<250&&20<Math.abs(b.x)||Math.abs(b.x)>c/2,e=!f&&0<b.x||f==u.length-1&&b.x<0;s.continuous&&(e=!1);var i=b.x<0;o||(n&&!e?(f=i?(s.continuous?(C(A(f-1),-c,0),C(A(f+2),c,0)):C(f-1,-c,0),C(f,d[f]-c,p),C(A(f+1),d[A(f+1)]-c,p),A(f+1)):(s.continuous?(C(A(f+1),c,0),C(A(f-2),-c,0)):C(f+1,c,0),C(f,d[f]+c,p),C(A(f-1),d[A(f-1)]+c,p),A(f-1)),h=m?f%2:f,s.menu&&D(),s.callback&&s.callback(h,u[f])):s.continuous?(C(A(f-1),-c,p),C(f,0,p),C(A(f+1),c,p)):(C(f-1,-c,p),C(f,0,p),C(f+1,c,p))),v.removeEventListener("touchmove",L,!1),v.removeEventListener("touchend",L,!1)},transitionEnd:function(t){parseInt(t.target.getAttribute("data-index"),10)==f&&(g&&P(),s.transitionEnd&&s.transitionEnd.call(t,h,u[f]))}};return e(),s.menu&&function(){var t=s.menu.querySelector(".slider-prev"),n=s.menu.querySelector(".slider-next"),e=s.menu.querySelector(".slider-menu");if(t&&(E.prev=function(t){y(t),q(),M()},x.prev=t,T(x.prev,"click",E.prev)),n&&(E.next=function(t){y(t),q(),S()},x.next=n,T(x.next,"click",E.next)),e){for(var i=0;i<l;i++){var o=document.createElement("b");o.innerHTML="â€¢",o.setAttribute("data-index",i.toString()),i==h&&(o.className="active"),T(o,"click",function(n){return function(t){y(t),q(),N(parseInt(this.getAttribute?this.getAttribute("data-index"):n.attributes["data-index"].nodeValue))}}(o)),e.appendChild(o)}x.dots=e}}(),z(),g&&P(),a.addEventListener?(a.touch&&v.addEventListener("touchstart",L,!1),a.transitions&&(v.addEventListener("webkitTransitionEnd",L,!1),v.addEventListener("msTransitionEnd",L,!1),v.addEventListener("oTransitionEnd",L,!1),v.addEventListener("otransitionend",L,!1),v.addEventListener("transitionend",L,!1)),window.addEventListener("resize",L,!1)):window.onresize=function(){e()},{setup:function(){e()},slide:function(t,n){q(),N(t,n)},prev:function(){q(),M()},next:function(){q(),S()},stop:function(){q()},getPos:function(){return h},getNumSlides:function(){return l},kill:function(){q(),v.style.width="",v.style.left="";for(var t=u.length;t--;){var n=u[t];n.style.width="",n.style.left="",a.transitions&&I(t,0,0)}a.addEventListener?(v.removeEventListener("touchstart",L,!1),v.removeEventListener("mousedown",L,!1),v.removeEventListener("webkitTransitionEnd",L,!1),v.removeEventListener("msTransitionEnd",L,!1),v.removeEventListener("oTransitionEnd",L,!1),v.removeEventListener("otransitionend",L,!1),v.removeEventListener("transitionend",L,!1),window.removeEventListener("resize",L,!1)):window.onresize=null,function(){for(var t=x.dots.childNodes;0<t.length;)x.dots.removeChild(t[0]);k(x.prev,"click",E.prev),k(x.next,"click",E.next)}()}}}function e(){u=v.children;for(var t=0;t<u.length;t++)8==u[t].nodeType&&(v.removeChild(u[t]),--t);l=u.length,u.length<2&&(s.continuous=!1),a.transitions&&s.continuous&&u.length<3&&(v.appendChild(u[0].cloneNode(!0)),v.appendChild(v.children[1].cloneNode(!0)),u=v.children,m=!0),d=new Array(u.length),c=i.getBoundingClientRect().width||i.offsetWidth,v.style.width=u.length*c+"px";for(var n=u.length;n--;){var e=u[n];e.style.width=c+"px",e.setAttribute("data-index",n.toString()),a.transitions&&(e.style.left=n*-c+"px",C(n,n<f?-c:f<n?c:0,0))}s.continuous&&a.transitions&&(C(A(f-1),-c,0),C(A(f+1),c,0)),a.transitions||(v.style.left=f*-c+"px"),i.style.visibility="visible"}function T(t,n,e){a.addEventListener?t.addEventListener(n,e,!1):window.attachEvent&&t.attachEvent("on"+n,e)}function y(t){t.returnValue=!1,t.preventDefault&&t.preventDefault()}function k(t,n,e){a.addEventListener?t.removeEventListener(n,e,!1):window.detachEvent&&t.detachEvent("on"+n,e)}function D(){for(var t=0;t<x.dots.children.length;t++){var n=x.dots.children[t];n.className=parseInt(n.getAttribute?n.getAttribute("data-index"):n.attributes["data-index"].nodeValue)==h?"active":""}}function M(){s.continuous?N(f-1):f&&N(f-1)}function S(){s.continuous?N(f+1):f<u.length-1&&N(f+1)}function z(){i.classList.toggle("slider-start",0===f),i.classList.toggle("slider-end",f===u.length-1),s.menu&&(s.menu.classList.toggle("slider-start",0===f),s.menu.classList.toggle("slider-end",f===u.length-1))}function A(t){return(u.length+t%u.length)%u.length}function N(t,n){if(f!=t){if(a.transitions){var e=Math.abs(f-t)/(f-t);if(s.continuous){var i=e;(e=-d[A(t)]/c)!==i&&(t=-e*u.length+t)}for(var o=Math.abs(f-t)-1;o--;)C(A((f<t?t:f)-o-1),c*e,0);t=A(t),C(f,c*e,n||p),C(t,0,n||p),s.continuous&&C(A(t-e),-c*e,0)}else t=A(t),function(n,e,i){if(!i)return v.style.left=e+"px";var o=+new Date,r=setInterval(function(){var t=+new Date-o;if(i<t)return v.style.left=e+"px",g&&P(),s.transitionEnd&&s.transitionEnd.call(event,h,u[f]),void clearInterval(r);v.style.left=(e-n)*(Math.floor(t/i*100)/100)+n+"px"},4)}(f*-c,t*-c,n||p);f=t,h=m?f%2:f,s.menu&&D(),z(),r(s.callback&&s.callback(h,u[f]))}}function C(t,n,e){I(t,n,e),d[t]=n}function I(t,n,e){var i=u[t],o=i&&i.style;o&&(o.webkitTransitionDuration=o.MozTransitionDuration=o.msTransitionDuration=o.OTransitionDuration=o.transitionDuration=e+"ms",o.webkitTransform="translate("+n+"px,0)translateZ(0)",o.msTransform=o.MozTransform=o.OTransform="translateX("+n+"px)")}function P(){null!==t&&clearTimeout(t),t=setTimeout(function(){t=null,S()},g)}function q(){g=0,clearTimeout(t)}}"undefined"!=typeof exports&&("undefined"!=typeof module&&module.exports&&(exports=module.exports=Swipe),exports.Swipe=Swipe);